{"version":3,"sources":["theme/colors.ts","theme/default.ts","theme/index.ts","theme/components/styled.tsx","hooks/theme.tsx","utils/lowerBound.tsx","utils/doubleDigits.tsx","theme/components/base.tsx","theme/shadow.ts","theme/components/text.tsx","hooks/animation_interval.ts","hooks/timer.ts","components/time_stamp.tsx","theme/components/layout.tsx","theme/components/box.tsx","components/scrub_bar.tsx","theme/components/process_colors.tsx","theme/components/button.tsx","components/current_subtitle.tsx","theme/components/input.tsx","components/speed_field.tsx","theme/components/content.tsx","components/subtitle_player.tsx","theme/components/shift_colors.tsx","components/subtitle_dropzone.tsx","theme/components/link.tsx","../resources/export/icon.svg","images/screenshot.png","components/landing_page.tsx","App.tsx","index.tsx"],"names":["palette","blue","black","white","dark","darkBlue","lightGray","veryLightGray","red","defaultTheme","colors","foreground","background","elementSizes","icon","scrubbar","scrubCursor","content","logo","screenshot","spacings","xxs","xs","s","m","ml","l","xl","xxl","lineHeight","fontSizes","fontWeights","normal","bold","lighter","breakpoints","mobileM","mobileS","lightTheme","darkTheme","getSpacing","theme","spacing","styled","default","ThemeProvider","useTheme","GlobalThemeContext","createContext","children","Provider","value","lowerBound","arr","condition","start","end","length","pivot","Math","floor","doubleDigits","t","abs","toString","baseStyle","props","padding","paddingTop","verticalPadding","paddingBottom","paddingLeft","horizontalPadding","paddingRight","margin","marginLeft","horizontalMargin","marginRight","marginTop","verticalMargin","marginBottom","rowGap","columnGap","getCssShadow","yOffset","blur","opacity","Text","fontWeight","color","fontSize","Bold","Monospace","fontFamily","textShadow","shadowOffset","shadowSpread","shadowOpacity","requestAnimationInterval","callback","id","active","requestAnimationFrame","loop","cancelAnimationFrame","Timer","t0","v","running","stopCallback","observers","Set","this","forEach","observer","tStart","Date","now","broadcast","undefined","pause","add","delete","TimerContext","TimerProvider","useTimer","useContext","TimeStamp","memo","timer","useState","seconds","setSeconds","useEffect","observe","Layout","display","flexDirection","Box","backgroundColor","borderRadius","overflow","ScrubPosition","boxShadow","max","pos","setPos","style","position","left","top","height","width","ScrubBar","cues","maxT","canvasRef","useRef","draw","useCallback","canvas","offsetWidth","offsetHeight","ctx","getContext","clearRect","scale","fillStyle","c","fillRect","current","mouseListener","event","buttons","rect","getBoundingClientRect","x","clientX","set","touchListener","touches","min","resizeListener","window","addEventListener","removeEventListener","cursor","ref","processColors","mode","strength","Color","darken","desaturate","lighten","saturate","alpha","isDark","ProcessColors","innerTheme","useMemo","hoverColor","colorCode","string","pressColor","Button","attrs","as","disabled","TextButton","CurrentSubtitle","setCurrent","currentCue","text","textAlign","dangerouslySetInnerHTML","__html","Input","border","outlineWidth","SpeedField","speed","editable","setEditable","speedStr","setSpeedStr","prevSpeed","setPrevSpeed","inputRef","input","scrollWidth","eventListener","key","Number","parseFloat","isFinite","onChange","currentTarget","onClick","toPrecision","Content","SubtitlePlayer","subtitles","close","setRunning","setSpeed","adaptive","setAdaptive","fullScreen","setFullScreen","startTime","filter","type","map","data","noSleep","NoSleep","document","enableNoSleep","enable","disable","adaptSpeed","resetSpeed","jumpToNext","jumpToPrevious","listener","flex","minHeight","alignSelf","justifyContent","alignItems","title","textDecoration","ShiftColors","SubtitleDropzone","error","setError","useDropzone","onDrop","files","reader","FileReader","onload","onLoad","parseSync","target","result","String","readAsText","getRootProps","getInputProps","isDragActive","Link","LandingPage","setSubtitles","setTheme","zIndex","maxWidth","alt","src","Logo","objectFit","href","size","App","useLocalStorage","selectedTheme","setSelectedTheme","rootElement","getElementById","app","StrictMode","hasChildNodes","hydrate","render"],"mappings":"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","file":"static/js/main.22d0a19b.chunk.js","sourcesContent":["export const palette = {\n  blue: \"rgb(98,135,161)\",\n  black: \"black\",\n  white: \"white\",\n  dark: \"#111111\",\n  darkBlue: \"#0a6bab\",\n  lightGray: \"#CCCCCC\",\n  veryLightGray: \"#DDDDDD\",\n  red: \"red\",\n};\n","import { palette } from \"./colors\";\n\nexport const defaultTheme = {\n  palette,\n  colors: {\n    foreground: palette.lightGray,\n    background: palette.dark,\n  },\n  elementSizes: {\n    icon: 44,\n    scrubbar: 30,\n    scrubCursor: 2,\n    content: 800,\n    logo: 150,\n    screenshot: 500,\n  },\n  spacings: {\n    xxs: 1,\n    xs: 2,\n    s: 5,\n    m: 10,\n    ml: 20,\n    l: 50,\n    xl: 100,\n    xxl: 250,\n  },\n  lineHeight: 1.5,\n  fontSizes: {\n    xxs: 10,\n    xs: 12,\n    s: 14,\n    m: 16,\n    ml: 20,\n    l: 24,\n    xl: 32,\n    xxl: 48,\n  },\n  fontWeights: {\n    normal: \"normal\",\n    bold: \"bold\",\n    lighter: \"lighter\",\n  } as const,\n  breakpoints: {\n    mobileM: 750,\n    mobileS: 350,\n  },\n};\n\nexport const lightTheme: typeof defaultTheme = {\n  ...defaultTheme,\n  colors: {\n    background: palette.veryLightGray,\n    foreground: palette.dark,\n  },\n};\n\nexport const darkTheme: typeof defaultTheme = {\n  ...defaultTheme,\n  colors: {\n    foreground: palette.lightGray,\n    background: palette.dark,\n  },\n};\n","import { defaultTheme } from \"./default\";\n\nexport type Theme = typeof defaultTheme;\n\nexport type Spacing = keyof Theme[\"spacings\"];\nexport type FontSize = keyof Theme[\"fontSizes\"];\nexport type FontWeight = keyof Theme[\"fontWeights\"];\nexport type Color = keyof Theme[\"colors\"];\nexport type PaletteColor = keyof Theme[\"palette\"];\n\nexport { defaultTheme };\n\nexport const getSpacing = (theme: Theme, spacing?: Spacing) =>\n  spacing && `${theme.spacings[spacing]}px`;\n\nexport const getFontSize = (theme: Theme, fontSize?: FontSize) =>\n  fontSize && theme.fontSizes[fontSize];\n","import * as styledComponents from \"styled-components\";\n\nimport { Theme } from \"../\";\n\nconst {\n  default: styled,\n  ThemeProvider,\n  useTheme,\n} = (styledComponents as unknown) as styledComponents.ThemedStyledComponentsModule<Theme>;\n\nexport { styled, ThemeProvider, useTheme };\n","import { createContext, ReactNode, useContext } from \"react\";\nimport { defaultTheme, Theme } from \"../theme\";\nimport { ThemeProvider as RegularThemeProvider } from \"../theme/components/styled\";\nexport { useTheme } from \"../theme/components/styled\";\n\nconst GlobalThemeContext = createContext<Theme>(defaultTheme);\n\nexport const useGlobalTheme = () => useContext(GlobalThemeContext);\n\nexport const ThemeProvider = ({\n  children,\n  theme,\n}: {\n  children: ReactNode;\n  theme: Theme;\n}) => {\n  return (\n    <GlobalThemeContext.Provider value={theme}>\n      <RegularThemeProvider theme={theme}>{children}</RegularThemeProvider>\n    </GlobalThemeContext.Provider>\n  );\n};\n","export function lowerBound<T>(arr: T[], condition: (r: T) => boolean) {\n  let start = 0;\n  let end = arr.length;\n\n  while (start < end) {\n    let pivot = Math.floor((end + start) / 2);\n    if (condition(arr[pivot])) {\n      end = pivot;\n    } else {\n      start = pivot + 1;\n    }\n  }\n\n  return start;\n}\n","export const doubleDigits = (t: number) => {\n  return Math.abs(t) < 10 ? `0${t}` : t.toString();\n};\n","import { getSpacing, Spacing, Theme } from \"..\";\n\nexport interface BaseProps {\n  padding?: Spacing;\n  horizontalPadding?: Spacing;\n  verticalPadding?: Spacing;\n  margin?: Spacing;\n  horizontalMargin?: Spacing;\n  verticalMargin?: Spacing;\n  rowGap?: Spacing;\n  columnGap?: Spacing;\n}\n\nexport const baseStyle = (props: BaseProps & { theme: Theme }) =>\n  ({\n    padding: getSpacing(props.theme, props.padding),\n    paddingTop: getSpacing(props.theme, props.verticalPadding),\n    paddingBottom: getSpacing(props.theme, props.verticalPadding),\n    paddingLeft: getSpacing(props.theme, props.horizontalPadding),\n    paddingRight: getSpacing(props.theme, props.horizontalPadding),\n    margin: getSpacing(props.theme, props.margin),\n    marginLeft: getSpacing(props.theme, props.horizontalMargin),\n    marginRight: getSpacing(props.theme, props.horizontalMargin),\n    marginTop: getSpacing(props.theme, props.verticalMargin),\n    marginBottom: getSpacing(props.theme, props.verticalMargin),\n    rowGap: getSpacing(props.theme, props.rowGap),\n    columnGap: getSpacing(props.theme, props.columnGap),\n  } as const);\n","import { getSpacing, Spacing, Theme } from \".\";\n\nexport const getCssShadow = (\n  yOffset: Spacing,\n  blur: Spacing,\n  opacity: number,\n  theme: Theme\n) => {\n  return `rgba(0,0,0,${opacity}) 0px ${getSpacing(theme, yOffset)} ${getSpacing(\n    theme,\n    blur\n  )}`;\n};\n","import { FontSize, FontWeight, Spacing } from \"..\";\nimport { BaseProps, baseStyle } from \"./base\";\nimport { styled } from \"./styled\";\nimport { getCssShadow } from \"../shadow\";\n\nexport const Text = styled(\"span\")<\n  {\n    fontSize?: FontSize;\n    fontWeight?: FontWeight;\n  } & BaseProps\n>((props) => [\n  baseStyle(props),\n  {\n    fontWeight: props.theme.fontWeights[props.fontWeight ?? \"normal\"],\n    color: props.theme.colors.foreground,\n    fontSize: props.theme.fontSizes[props.fontSize ?? \"m\"],\n    lineHeight: props.theme.lineHeight,\n  },\n]);\n\nexport const Bold = styled(\"span\")((props) => ({\n  fontWeight: props.theme.fontWeights[\"bold\"],\n}));\n\nexport const Monospace = styled(\"span\")((props) => ({\n  fontFamily: \"monospace\",\n}));\n\nexport const ShadowedText = styled(Text)<{\n  shadowOffset?: Spacing;\n  shadowSpread?: Spacing;\n  shadowOpacity?: number;\n}>((props) => ({\n  textShadow: getCssShadow(\n    props.shadowOffset ?? \"xs\",\n    props.shadowSpread ?? \"xs\",\n    props.shadowOpacity ?? 0.5,\n    props.theme\n  ),\n}));\n","/* eslint-disable react-hooks/exhaustive-deps */\n\nimport { useEffect } from \"react\";\n\nexport const requestAnimationInterval = (callback: () => void) => {\n  let active = true;\n  let id: number;\n  const loop = () => {\n    if (active) {\n      callback();\n      id = requestAnimationFrame(loop);\n    }\n  };\n  id = requestAnimationFrame(loop);\n  return () => {\n    active = false;\n    cancelAnimationFrame(id);\n  };\n};\n\nexport const useAnimationInterval = (\n  callback: () => void,\n  dependencies: any[] = []\n) => {\n  useEffect(() => requestAnimationInterval(callback), [\n    callback,\n    ...dependencies,\n  ]);\n};\n","import { createContext, useContext } from \"react\";\nimport { requestAnimationInterval } from \"./animation_interval\";\n\ntype Observer = (t: number) => void;\n\nexport class Timer {\n  public t: number;\n  public running = false;\n\n  private stopCallback?: () => void;\n  private observers = new Set<Observer>();\n\n  constructor(public t0 = 0, public v = 1) {\n    this.t = t0;\n  }\n\n  broadcast() {\n    const t = this.t;\n    this.observers.forEach((observer) => observer(t));\n  }\n\n  public start() {\n    if (!this.running) {\n      this.running = true;\n      const tStart = Date.now();\n      this.stopCallback = requestAnimationInterval(() => {\n        this.t = (Date.now() - tStart) * this.v + this.t0;\n        this.broadcast();\n      });\n    }\n  }\n\n  public pause(broadcast = true) {\n    this.stopCallback?.();\n    this.stopCallback = undefined;\n    this.running = false;\n    this.t0 = this.t;\n    if (broadcast) {\n      this.broadcast();\n    }\n  }\n\n  public set(t: number, v = this.v) {\n    this.t = t;\n    this.v = v;\n    if (this.running) {\n      this.pause(false);\n      this.start();\n    } else {\n      this.t0 = t;\n      this.broadcast();\n    }\n  }\n\n  public observe(observer: Observer) {\n    this.observers.add(observer);\n    return () => {\n      this.observers.delete(observer);\n    };\n  }\n}\n\nconst TimerContext = createContext(new Timer());\n\nexport const TimerProvider = TimerContext.Provider;\nexport const useTimer = () => useContext(TimerContext);\n","import React, { memo, useEffect, useState } from \"react\";\nimport { doubleDigits } from \"../utils/doubleDigits\";\nimport { Monospace, Text } from \"../theme/components/text\";\nimport { useTimer } from \"../hooks/timer\";\n\nexport const TimeStamp = memo(() => {\n  const timer = useTimer();\n  const [seconds, setSeconds] = useState(timer.t);\n\n  useEffect(() => {\n    return timer.observe((t) => setSeconds(Math.floor(t / 1000)));\n  }, [timer]);\n\n  return (\n    <Text fontSize=\"m\">\n      <Monospace>\n        {doubleDigits(Math.floor(seconds / (60 * 60)))}:\n        {doubleDigits(Math.floor((seconds / 60) % 60))}:\n        {doubleDigits(Math.floor(seconds % 60))}\n      </Monospace>\n    </Text>\n  );\n});\n","import { styled } from \"./styled\";\nimport { BaseProps, baseStyle } from \"./base\";\n\nexport const Layout = styled(\"div\")<BaseProps>((props) => ({\n  ...baseStyle(props),\n  display: \"flex\",\n  flexDirection: \"column\",\n}));\n","import { getSpacing, Spacing } from \"..\";\nimport { Layout } from \"./layout\";\nimport { styled } from \"./styled\";\nimport { getCssShadow } from \"../shadow\";\n\nexport const Box = styled(Layout)<{\n  borderRadius?: Spacing;\n}>((props) => ({\n  backgroundColor: props.theme.colors.background,\n  borderRadius: getSpacing(props.theme, props.borderRadius),\n  overflow: \"hidden\",\n}));\n\nexport const ShadowedBox = styled(Box)<{\n  shadowOffset?: Spacing;\n  shadowSpread?: Spacing;\n  shadowOpacity?: number;\n}>((props) => ({\n  boxShadow: getCssShadow(\n    props.shadowOffset ?? \"xs\",\n    props.shadowSpread ?? \"xs\",\n    props.shadowOpacity ?? 0.5,\n    props.theme\n  ),\n}));\n","import React, { useCallback, useEffect, useState, useRef, memo } from \"react\";\nimport { Cue } from \"subtitle\";\nimport { useTheme } from \"../hooks/theme\";\nimport { useTimer } from \"../hooks/timer\";\nimport { Box } from \"../theme/components/box\";\n\nconst ScrubPosition = ({ max }: { max: number }) => {\n  const { palette, elementSizes } = useTheme();\n  const timer = useTimer();\n  const [pos, setPos] = useState(0);\n\n  useEffect(() => {\n    return timer.observe((t) => setPos(t / max));\n  }, [timer, max]);\n\n  return (\n    <div\n      style={{\n        position: \"absolute\",\n        left: `${pos * 100}%`,\n        top: 0,\n        height: \"100%\",\n        width: elementSizes.scrubCursor,\n        backgroundColor: palette.red,\n      }}\n    />\n  );\n};\n\nexport const ScrubBar = memo(({ cues }: { cues: Cue[] }) => {\n  const { colors, elementSizes } = useTheme();\n  const maxT = cues[cues.length - 1]?.end ?? 0;\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const timer = useTimer();\n\n  const draw = useCallback(\n    (canvas: HTMLCanvasElement) => {\n      canvas.width = canvas.offsetWidth;\n      canvas.height = canvas.offsetHeight;\n      const ctx = canvas.getContext(\"2d\");\n      if (ctx) {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        const scale = canvas.width / maxT;\n        ctx.fillStyle = colors.foreground;\n        for (const c of cues) {\n          ctx.fillRect(\n            c.start * scale,\n            0,\n            (c.end - c.start) * scale,\n            canvas.height\n          );\n        }\n      }\n    },\n    [cues, colors, maxT]\n  );\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (canvas) {\n      draw(canvas);\n\n      const mouseListener = (event: MouseEvent) => {\n        if (event.buttons === 1) {\n          const rect = canvas.getBoundingClientRect();\n          const x = (event.clientX - rect.left) / canvas.offsetWidth;\n          timer.set(x * maxT);\n        }\n      };\n      const touchListener = (event: TouchEvent) => {\n        const rect = canvas.getBoundingClientRect();\n        const x = (event.touches[0].clientX - rect.left) / canvas.offsetWidth;\n        timer.set(Math.min(Math.max(x, 0), 1) * maxT);\n      };\n      const resizeListener = () => draw(canvas);\n\n      window.addEventListener(\"resize\", resizeListener);\n      canvas.addEventListener(\"mousemove\", mouseListener);\n      canvas.addEventListener(\"mousedown\", mouseListener);\n      canvas.addEventListener(\"touchmove\", touchListener);\n      canvas.addEventListener(\"touchstart\", touchListener);\n      return () => {\n        window.removeEventListener(\"resize\", resizeListener);\n        canvas.removeEventListener(\"mousemove\", mouseListener);\n        canvas.removeEventListener(\"mousedown\", mouseListener);\n        canvas.removeEventListener(\"touchstart\", touchListener);\n        canvas.removeEventListener(\"touchmove\", touchListener);\n      };\n    }\n  }, [draw, timer, maxT]);\n\n  return (\n    <Box\n      borderRadius=\"m\"\n      style={{\n        position: \"relative\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        cursor: \"pointer\",\n      }}\n    >\n      <canvas\n        height={elementSizes.scrubbar}\n        style={{ display: \"block\" }}\n        ref={canvasRef}\n      />\n      <ScrubPosition max={maxT} />\n    </Box>\n  );\n});\n","import Color from \"color\";\nimport React, { ReactNode, useMemo } from \"react\";\n\nimport { Theme } from \"..\";\nimport { useTheme, ThemeProvider } from \"../../hooks/theme\";\n\nconst processColors = (\n  { foreground, background }: Theme[\"colors\"],\n  mode:\n    | \"INVERT\"\n    | \"DARKEN_BACKGROUND\"\n    | \"LIGHTEN_BACKGROUND\"\n    | \"INCREASE_CONTRAST\"\n    | \"NONE\"\n    | \"MAKE_TRANSPARENT\",\n  strength = 1\n): Theme[\"colors\"] => {\n  switch (mode) {\n    case \"NONE\":\n      return { background, foreground };\n    case \"INVERT\":\n      return { background: foreground, foreground: background };\n    case \"DARKEN_BACKGROUND\":\n      return {\n        foreground,\n        background: Color(background)\n          .darken(0.25 * strength)\n          .desaturate(0.5 * strength)\n          .toString(),\n      };\n    case \"LIGHTEN_BACKGROUND\":\n      return {\n        foreground,\n        background: Color(background)\n          .lighten(0.4 * strength)\n          .saturate(0.1 * strength)\n          .toString(),\n      };\n    case \"MAKE_TRANSPARENT\":\n      return {\n        foreground: Color(foreground)\n          .alpha(strength * 0.5)\n          .toString(),\n        background: Color(background)\n          .alpha(strength * 0.5)\n          .toString(),\n      };\n    case \"INCREASE_CONTRAST\":\n      if (Color(background).isDark()) {\n        return {\n          foreground: Color(foreground).lighten(0.1).toString(),\n          background: Color(background).darken(0.1).toString(),\n        };\n      } else {\n        return {\n          foreground: Color(foreground).darken(strength).toString(),\n          background: Color(background).lighten(strength).toString(),\n        };\n      }\n  }\n};\n\nexport const ProcessColors = ({\n  children,\n  mode = \"INVERT\",\n  strength = 1,\n}: {\n  children: ReactNode;\n  mode?: Parameters<typeof processColors>[1];\n  strength?: Parameters<typeof processColors>[2];\n}) => {\n  const theme = useTheme();\n\n  const innerTheme = useMemo(\n    () => ({\n      ...theme,\n      colors: processColors(theme.colors, mode, strength),\n    }),\n    [theme, mode, strength]\n  );\n\n  return <ThemeProvider theme={innerTheme}>{children}</ThemeProvider>;\n};\n","import { styled } from \"./styled\";\nimport { Text } from \"./text\";\nimport { getCssShadow } from \"../shadow\";\nimport Color from \"color\";\nimport { getSpacing } from \"..\";\n\nconst hoverColor = (colorCode: string) => {\n  const color = Color(colorCode);\n  if (color.isDark()) {\n    return color.lighten(0.1).string();\n  } else {\n    return color.darken(0.1).string();\n  }\n};\n\nconst pressColor = (colorCode: string) => {\n  const color = Color(colorCode);\n  if (color.isDark()) {\n    return color.lighten(0.25).string();\n  } else {\n    return color.darken(0.25).string();\n  }\n};\n\nexport const Button = styled(Text).attrs({ as: \"button\" })<\n  React.HTMLProps<HTMLButtonElement> & { disabled?: boolean }\n>`\n  transition: 0.25s;\n  border: none;\n  border-radius: ${(props) => getSpacing(props.theme, \"m\")};\n  outline-width: 0;\n  background-color: ${(props) => props.theme.colors.background};\n  opacity: ${(props) => (props.disabled ? 0.5 : 1)};\n  pointer-events: ${(props) => (props.disabled ? \"none\" : \"initial\")};\n  box-shadow: ${(props) => getCssShadow(\"xxs\", \"xs\", 0.5, props.theme)};\n  :hover {\n    cursor: pointer;\n    background-color: ${(props) => hoverColor(props.theme.colors.background)};\n  }\n  :active {\n    transition: 0s;\n    background-color: ${(props) => pressColor(props.theme.colors.background)};\n  }\n`;\n\nexport const TextButton = styled(Text)<\n  React.HTMLProps<HTMLButtonElement> & { disabled?: boolean }\n>`\n  transition: 0.25s;\n  opacity: ${(props) => (props.disabled ? 0.5 : 1)};\n  pointer-events: ${(props) => (props.disabled ? \"none\" : \"initial\")};\n  :hover {\n    cursor: pointer;\n    color: ${(props) => hoverColor(props.theme.colors.foreground)};\n  }\n  :active {\n    transition: 0s;\n    color: ${(props) => pressColor(props.theme.colors.foreground)};\n  }\n`;\n","import React, { useEffect, useState } from \"react\";\nimport { Cue } from \"subtitle\";\nimport { lowerBound } from \"../utils/lowerBound\";\nimport { Text } from \"../theme/components/text\";\nimport { useTimer } from \"../hooks/timer\";\n\nexport const CurrentSubtitle = ({ cues }: { cues: Cue[] }) => {\n  const [current, setCurrent] = useState(\"\");\n  const timer = useTimer();\n\n  useEffect(() => {\n    return timer.observe((t) => {\n      const currentCue = cues[lowerBound(cues, (v) => t < v.end)];\n      setCurrent(currentCue && t >= currentCue.start ? currentCue.text : \"\");\n    });\n  }, [timer, cues]);\n\n  return (\n    <Text\n      style={{ textAlign: \"center\" }}\n      fontSize=\"xxl\"\n      dangerouslySetInnerHTML={{ __html: current }}\n    />\n  );\n};\n","import { styled } from \"./styled\";\nimport { Spacing } from \"..\";\nimport { Text } from \"./text\";\nimport React from \"react\";\n\nexport const Input = styled(Text).attrs<{ as?: string }>((props) => ({\n  as: props.as ?? \"input\",\n}))<\n  {\n    borderRadius?: Spacing;\n    flexDirection?: \"row\" | \"column\";\n  } & React.HTMLProps<HTMLInputElement>\n>((props) => ({\n  background: \"transparent\",\n  border: \"none\",\n  outlineWidth: 0,\n  color: props.theme.colors.foreground,\n}));\n","import React, { FormEvent, useEffect, useRef, useState } from \"react\";\nimport { Monospace } from \"../theme/components/text\";\nimport { useTimer } from \"../hooks/timer\";\nimport { Input } from \"../theme/components/input\";\nimport { useTheme } from \"../hooks/theme\";\n\nexport const SpeedField = ({ speed }: { speed: number }) => {\n  const timer = useTimer();\n  const [editable, setEditable] = useState(false);\n  const [speedStr, setSpeedStr] = useState(\"\");\n  const [prevSpeed, setPrevSpeed] = useState(speed);\n  const theme = useTheme();\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    if (prevSpeed !== speed) {\n      setPrevSpeed(speed);\n      setEditable(false);\n    }\n  }, [prevSpeed, speed]);\n\n  useEffect(() => {\n    const input = inputRef.current;\n    if (input) {\n      input.style.width = `${input.scrollWidth}px`;\n      const eventListener = (event: KeyboardEvent) => {\n        if (event.key === \"Enter\") {\n          const v = Number.parseFloat(speedStr);\n          if (isFinite(v)) {\n            timer.set(timer.t, v);\n          }\n          setEditable(false);\n        }\n      };\n      input.addEventListener(\"keyup\", eventListener);\n      return () => input.removeEventListener(\"keyup\", eventListener);\n    }\n  }, [speedStr, timer]);\n\n  if (editable) {\n    return (\n      <Input\n        ref={inputRef}\n        style={{ fontFamily: \"monospace\", width: 3 * theme.fontSizes.m }}\n        onChange={(event: FormEvent<HTMLInputElement>) => {\n          setSpeedStr(event.currentTarget.value);\n        }}\n        value={speedStr}\n      />\n    );\n  } else {\n    return (\n      <Monospace\n        onClick={() => {\n          setEditable(true);\n          setSpeedStr(speed.toPrecision(4));\n        }}\n      >\n        {speed.toPrecision(4)}\n      </Monospace>\n    );\n  }\n};\n","import { Layout } from \"./layout\";\nimport { styled } from \"./styled\";\n\nexport const Content = styled(Layout).attrs({\n  verticalMargin: \"m\",\n  horizontalMargin: \"m\",\n})(() => ({\n  paddingLeft: \"env(safe-area-inset-left)\",\n  paddingRight: \"env(safe-area-inset-right)\",\n  paddingTop: \"env(safe-area-inset-top)\",\n  paddingBottom: \"env(safe-area-inset-bottom)\",\n}));\n","import React, {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport { Cue, Node } from \"subtitle\";\nimport { lowerBound } from \"../utils/lowerBound\";\nimport { TimeStamp } from \"./time_stamp\";\nimport { ScrubBar } from \"./scrub_bar\";\nimport { ProcessColors } from \"../theme/components/process_colors\";\nimport { Bold, Text } from \"../theme/components/text\";\nimport { useTimer } from \"../hooks/timer\";\nimport { Layout } from \"../theme/components/layout\";\nimport { TextButton } from \"../theme/components/button\";\nimport {\n  MdFastForward,\n  MdFastRewind,\n  MdPause,\n  MdPlayArrow,\n  MdClose,\n} from \"react-icons/md\";\nimport { CurrentSubtitle } from \"./current_subtitle\";\nimport NoSleep from \"nosleep.js\";\nimport { AiOutlineFullscreenExit, AiOutlineFullscreen } from \"react-icons/ai\";\nimport { SpeedField } from \"./speed_field\";\nimport { Box } from \"../theme/components/box\";\nimport { Content } from \"../theme/components/content\";\n\nexport const SubtitlePlayer = ({\n  subtitles,\n  close,\n}: {\n  subtitles: Node[];\n  close: () => void;\n}) => {\n  const timer = useTimer();\n  const [running, setRunning] = useState(timer.running);\n  const [speed, setSpeed] = useState(timer.v);\n  const [adaptive, setAdaptive] = useState(false);\n  const [fullScreen, setFullScreen] = useState(false);\n  const startTime = useRef<[number, number]>();\n\n  const cues = useMemo(\n    () => subtitles.filter((s) => s.type === \"cue\").map((s) => s.data as Cue),\n    [subtitles]\n  );\n\n  useEffect(() => {\n    const noSleep = new NoSleep();\n\n    document.addEventListener(\n      \"click\",\n      function enableNoSleep() {\n        document.removeEventListener(\"click\", enableNoSleep, false);\n        noSleep.enable();\n      },\n      false\n    );\n\n    return () => {\n      noSleep.disable();\n    };\n  }, []);\n\n  useEffect(() => {\n    const max = cues[cues.length - 1].end;\n\n    return timer.observe((t) => {\n      setRunning(timer.running);\n      setSpeed(timer.v);\n      if (timer.running && t >= max) {\n        timer.pause();\n      }\n    });\n  }, [timer, cues]);\n\n  const adaptSpeed = useCallback(() => {\n    if (adaptive && running) {\n      if (startTime.current) {\n        const v =\n          (timer.t - startTime.current[1]) /\n          (Date.now() - startTime.current[0]);\n        if (v > 0) {\n          timer.set(timer.t, v);\n        }\n      } else {\n        startTime.current = [Date.now(), timer.t];\n      }\n    } else {\n      startTime.current = undefined;\n    }\n  }, [adaptive, running, timer]);\n\n  const resetSpeed = useCallback(() => {\n    timer.set(timer.t, 1);\n    startTime.current = undefined;\n    adaptSpeed();\n  }, [adaptSpeed, timer]);\n\n  useEffect(adaptSpeed, [adaptSpeed]);\n\n  const jumpToNext = useCallback(() => {\n    const t = timer.t;\n    const currentCue =\n      cues[\n        Math.min(\n          cues.length - 1,\n          lowerBound(cues, (v) => t < v.start)\n        )\n      ];\n    timer.set(currentCue.start);\n    adaptSpeed();\n  }, [cues, timer, adaptSpeed]);\n\n  const jumpToPrevious = useCallback(() => {\n    const t = timer.t;\n    const currentCue =\n      cues[Math.max(0, lowerBound(cues, (v) => t < v.end) - 1)];\n    timer.set(currentCue.start);\n    adaptSpeed();\n  }, [cues, timer, adaptSpeed]);\n\n  useEffect(() => {\n    const listener = (event: KeyboardEvent) => {\n      switch (event.key) {\n        case \"ArrowLeft\":\n          jumpToPrevious();\n          break;\n        case \"ArrowRight\":\n          jumpToNext();\n          break;\n        case \" \":\n          if (timer.running) {\n            timer.pause();\n          } else {\n            timer.start();\n          }\n          break;\n      }\n    };\n\n    document.addEventListener(\"keydown\", listener);\n    return () => document.removeEventListener(\"keydown\", listener);\n  }, [jumpToNext, jumpToPrevious, timer]);\n\n  return (\n    <ProcessColors mode={fullScreen ? \"INCREASE_CONTRAST\" : \"NONE\"}>\n      <Box style={{ flex: 1 }}>\n        <Content style={{ flex: 1 }}>\n          <Layout\n            style={{ flex: 1, minHeight: fullScreen ? \"100vh\" : undefined }}\n          >\n            {fullScreen ? (\n              <TextButton\n                style={{ alignSelf: \"flex-end\" }}\n                onClick={() => setFullScreen(false)}\n                fontSize=\"xl\"\n              >\n                <AiOutlineFullscreenExit />\n              </TextButton>\n            ) : (\n              <Layout\n                style={{\n                  flexDirection: \"row\",\n                  justifyContent: \"space-between\",\n                  alignItems: \"center\",\n                }}\n              >\n                <TextButton onClick={close} fontSize=\"xl\">\n                  <MdClose />\n                </TextButton>\n\n                <TextButton onClick={jumpToPrevious} fontSize=\"xl\">\n                  <MdFastRewind />\n                </TextButton>\n\n                <TextButton\n                  onClick={() =>\n                    timer.running ? timer.pause() : timer.start()\n                  }\n                  fontSize=\"xl\"\n                >\n                  {running ? <MdPause /> : <MdPlayArrow />}\n                </TextButton>\n\n                <TextButton onClick={jumpToNext} fontSize=\"xl\">\n                  <MdFastForward />\n                </TextButton>\n\n                <TextButton\n                  onClick={() => {\n                    setFullScreen(true);\n                  }}\n                  fontSize=\"xl\"\n                >\n                  <AiOutlineFullscreen />\n                </TextButton>\n              </Layout>\n            )}\n\n            <Layout style={{ flex: 1, justifyContent: \"center\" }}>\n              <CurrentSubtitle cues={cues} />\n            </Layout>\n\n            {!fullScreen && (\n              <>\n                <Layout\n                  verticalMargin=\"m\"\n                  style={{\n                    flexDirection: \"row\",\n                    justifyContent: \"space-between\",\n                  }}\n                >\n                  <TimeStamp />\n                  <Layout\n                    style={{ flexDirection: \"row\", alignItems: \"center\" }}\n                    columnGap=\"m\"\n                  >\n                    <Text>\n                      Speed: <SpeedField speed={speed} />\n                    </Text>\n                    <TextButton\n                      title=\"Once activated, the speed will automatically be adjusted to match the current subtitle.\"\n                      onClick={() => setAdaptive(!adaptive)}\n                      style={{\n                        textDecoration: adaptive ? undefined : \"line-through\",\n                      }}\n                      fontSize=\"s\"\n                      fontWeight={adaptive ? \"bold\" : undefined}\n                    >\n                      Adaptive\n                    </TextButton>\n                    <TextButton\n                      title=\"Sets the speed to 1\"\n                      onClick={resetSpeed}\n                      fontSize=\"s\"\n                    >\n                      <Bold>Reset</Bold>\n                    </TextButton>\n                  </Layout>\n                </Layout>\n\n                <ProcessColors mode=\"DARKEN_BACKGROUND\">\n                  <ScrubBar cues={cues} />\n                </ProcessColors>\n              </>\n            )}\n          </Layout>\n        </Content>\n      </Box>\n    </ProcessColors>\n  );\n};\n","import React, { ReactNode } from \"react\";\n\nimport { PaletteColor } from \"..\";\nimport { useTheme, ThemeProvider } from \"../../hooks/theme\";\n\n/**\n * Swaps the foreground and background colors or replaces them with the specified values.\n */\nexport const ShiftColors = ({\n  children,\n  background,\n  foreground,\n}: {\n  children: ReactNode;\n  background?: PaletteColor;\n  foreground?: PaletteColor;\n}) => {\n  const theme = useTheme();\n\n  const innerTheme = {\n    ...theme,\n    colors: {\n      ...theme.colors,\n      background: background\n        ? theme.palette[background]\n        : theme.colors.background,\n      foreground: foreground\n        ? theme.palette[foreground]\n        : theme.colors.foreground,\n    },\n  };\n\n  return <ThemeProvider theme={innerTheme}>{children}</ThemeProvider>;\n};\n","import React, { useState } from \"react\";\nimport { parseSync, Node } from \"subtitle\";\nimport { Layout } from \"../theme/components/layout\";\nimport { ProcessColors } from \"../theme/components/process_colors\";\nimport { Bold, Text } from \"../theme/components/text\";\nimport { useDropzone } from \"react-dropzone\";\nimport { ShiftColors } from \"../theme/components/shift_colors\";\nimport { Button } from \"../theme/components/button\";\n\nexport const SubtitleDropzone = (props: {\n  onLoad: (result: Node[]) => void;\n}) => {\n  const [error, setError] = useState<string>();\n\n  const onDrop = (files: File[]) => {\n    setError(undefined);\n    var reader = new FileReader();\n    reader.onload = function (event) {\n      try {\n        props.onLoad(parseSync(event.target?.result as string));\n      } catch (error) {\n        setError(String(error));\n      }\n    };\n    reader.readAsText(files[0]);\n  };\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop });\n\n  return (\n    <Layout style={{ alignItems: \"center\" }}>\n      <div {...getRootProps()}>\n        <input {...getInputProps()} />\n        <ProcessColors\n          mode={isDragActive ? \"INVERT\" : \"LIGHTEN_BACKGROUND\"}\n          strength={5}\n        >\n          <Button padding=\"ml\">\n            <Text>\n              <Bold>Drop or select subtitle here</Bold>\n            </Text>\n          </Button>\n        </ProcessColors>\n      </div>\n      <ShiftColors foreground=\"red\">\n        <Text margin=\"m\">{error}</Text>\n      </ShiftColors>\n    </Layout>\n  );\n};\n","import { styled } from \"./styled\";\nimport Color from \"color\";\n\nconst hoverColor = (colorCode: string) => {\n  const color = Color(colorCode);\n  if (color.isDark()) {\n    return color.lighten(0.25).string();\n  } else {\n    return color.darken(0.25).string();\n  }\n};\n\nconst pressColor = (colorCode: string) => {\n  const color = Color(colorCode);\n  if (color.isDark()) {\n    return color.lighten(0.5).string();\n  } else {\n    return color.darken(0.5).string();\n  }\n};\n\nexport const Link = styled(\"a\")`\n  color: ${(props) => props.theme.colors.foreground};\n  text-decoration: none;\n  transition: 0.5s;\n  :hover {\n    transition: 0.5s;\n    cursor: pointer;\n    color: ${(props) => hoverColor(props.theme.colors.foreground)};\n    text-decoration: none;\n  }\n  :active {\n    transition: 0s;\n    color: ${(props) => pressColor(props.theme.colors.foreground)};\n  }\n`;\n","export default __webpack_public_path__ + \"static/media/icon.6c28fcdb.svg\";","export default __webpack_public_path__ + \"static/media/screenshot.ce0f32a9.png\";","import React from \"react\";\nimport { Node } from \"subtitle\";\nimport { SubtitleDropzone } from \"./subtitle_dropzone\";\nimport { Bold, Text } from \"../theme/components/text\";\nimport { Layout } from \"../theme/components/layout\";\nimport { Link } from \"../theme/components/link\";\nimport { Box } from \"../theme/components/box\";\nimport { Content } from \"../theme/components/content\";\nimport Logo from \"../images/resources/export/icon.svg\";\nimport { useTheme } from \"../hooks/theme\";\nimport { FaGithub, FaMoon, FaSun } from \"react-icons/fa\";\nimport { TextButton } from \"../theme/components/button\";\nimport screenshot from \"../images/screenshot.png\";\n\nexport const LandingPage = ({\n  setSubtitles,\n  setTheme,\n}: {\n  setSubtitles: (subs: Node[]) => void;\n  setTheme: (theme: \"light\" | \"dark\") => void;\n}) => {\n  const { elementSizes } = useTheme();\n\n  return (\n    <Box style={{ flex: 1, alignItems: \"center\" }}>\n      <Content style={{ flex: 1, zIndex: 1, maxWidth: elementSizes.content }}>\n        <Layout\n          style={{\n            flex: 1,\n            justifyContent: \"space-around\",\n            alignItems: \"center\",\n          }}\n        >\n          <Layout margin=\"l\" style={{ width: \"100%\", alignItems: \"center\" }}>\n            <img width={elementSizes.logo} alt=\"project logo\" src={Logo} />\n            <Text style={{ textAlign: \"center\" }} padding=\"ml\" fontSize=\"xl\">\n              <Bold>Subs</Bold>titute\n            </Text>\n            <Text style={{ textAlign: \"center\" }} fontSize=\"ml\">\n              A subtitle player for the browser\n            </Text>\n          </Layout>\n          <Layout margin=\"ml\">\n            <SubtitleDropzone onLoad={setSubtitles} />\n          </Layout>\n          <Text margin=\"m\" style={{ textAlign: \"center\" }} fontSize=\"m\">\n            Using Substitute, you can watch subtitles from an external device,\n            such as a smartphone or tablet. This is useful for the rare\n            situations where you don't have control over the video source, or\n            want to easily adjust subtitle timings without interrupting the\n            movie.\n          </Text>\n          <Layout horizontalMargin=\"m\" verticalMargin=\"l\">\n            <img\n              src={screenshot}\n              alt=\"Screenshot of a mobile device using Substitute\"\n              style={{\n                maxWidth: elementSizes.screenshot,\n                width: \"100%\",\n                objectFit: \"contain\",\n              }}\n            />\n          </Layout>\n          <Layout style={{ alignItems: \"center\" }}>\n            <Text fontSize=\"ml\">\n              <Bold>Usage</Bold>\n            </Text>\n            <Text verticalMargin=\"m\">\n              <ol>\n                <li>\n                  Select a subtitle file (e.g. from{\" \"}\n                  <Link href=\"https://www.opensubtitles.org\">\n                    OpenSubtitles.org\n                  </Link>\n                  )\n                </li>\n                <li>\n                  Use the controls to synchronize the current subtitles with the\n                  movie\n                </li>\n                <li>\n                  If necessary, adjust the speed by changing the value or\n                  choosing adaptive speed to synchronize with your changes\n                </li>\n              </ol>\n            </Text>\n          </Layout>\n          <Layout style={{ alignItems: \"center\" }}>\n            <Text fontSize=\"ml\">\n              <Bold>Theme</Bold>\n            </Text>\n            <Layout style={{ flexDirection: \"row\" }}>\n              <TextButton\n                margin=\"m\"\n                style={{ textAlign: \"center\" }}\n                onClick={() => setTheme(\"light\")}\n              >\n                <FaSun />\n                <br />\n                <Bold>Light mode</Bold>\n              </TextButton>\n              <TextButton\n                margin=\"m\"\n                style={{ textAlign: \"center\" }}\n                onClick={() => setTheme(\"dark\")}\n              >\n                <FaMoon />\n                <br />\n                <Bold>Dark mode</Bold>\n              </TextButton>\n            </Layout>\n          </Layout>\n          <TextButton\n            verticalMargin=\"l\"\n            as=\"a\"\n            href=\"https://github.com/thelartians/substitute\"\n          >\n            <FaGithub size={elementSizes.icon} />\n          </TextButton>\n        </Layout>\n      </Content>\n    </Box>\n  );\n};\n","import React, { useMemo, useState } from \"react\";\nimport { Node } from \"subtitle\";\nimport { ThemeProvider } from \"./hooks/theme\";\nimport { SubtitlePlayer } from \"./components/subtitle_player\";\nimport { TimerProvider, Timer } from \"./hooks/timer\";\nimport { LandingPage } from \"./components/landing_page\";\nimport useLocalStorage from \"use-local-storage\";\nimport { darkTheme, lightTheme } from \"./theme/default\";\n\nfunction App() {\n  const [subtitles, setSubtitles] = useState<Node[]>();\n  const [selectedTheme, setSelectedTheme] = useLocalStorage<\"light\" | \"dark\">(\n    \"selected-theme\",\n    \"dark\"\n  );\n  const theme = selectedTheme === \"light\" ? lightTheme : darkTheme;\n\n  // use a new timer instance for every subtitle file\n  const timer = useMemo(() => {\n    return subtitles ? new Timer() : undefined;\n  }, [subtitles]);\n\n  return (\n    <ThemeProvider theme={theme}>\n      {subtitles ? (\n        <TimerProvider value={timer!}>\n          <SubtitlePlayer\n            close={() => setSubtitles(undefined)}\n            subtitles={subtitles}\n          />\n        </TimerProvider>\n      ) : (\n        <LandingPage setTheme={setSelectedTheme} setSubtitles={setSubtitles} />\n      )}\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport { hydrate, render } from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nconst app = (\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\nif (rootElement!.hasChildNodes()) {\n  hydrate(app, rootElement);\n} else {\n  render(app, rootElement);\n}\n\n// import reportWebVitals from \"./reportWebVitals\";\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}